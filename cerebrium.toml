[cerebrium.deployment]
name = "secret-santa-app"
python_version = "3.11"
include = ["./*"]
exclude = ["tests/*", "*.log", "*.db", "*.sqlite", "*.sqlite3", "__pycache__/*", ".venv/*", "venv/*"]

[cerebrium.runtime.custom]
port = 8000
entrypoint = ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
healthcheck_endpoint = "/"

[cerebrium.hardware]
cpu = 1
memory = 2.0
compute = "CPU"

[cerebrium.dependencies.pip]
fastapi = ">=0.104.0"
uvicorn = {extras = ["standard"], version = ">=0.24.0"}
sqlalchemy = ">=2.0.0"
jinja2 = ">=3.1.0"
python-multipart = ">=0.0.6"
passlib = {extras = ["bcrypt"], version = ">=1.7.4"}
python-jose = {extras = ["cryptography"], version = ">=3.3.0"}
python-dotenv = ">=1.0.0"
psycopg2-binary = ">=2.9.0"

[cerebrium.dependencies.system]
packages = ["gcc", "postgresql-client", "curl"]
